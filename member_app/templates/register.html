{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans "Inscription - Cinéma" %}{% endblock %}

{% block content %}
<div class="row justify-content-center mt-5">
    <div class="col-md-7">
        <div class="card shadow-lg">
            {% include 'snippets/card_header_snippet.html' with header_title=_('Créer un compte') header_icon='fas fa-user-plus' header_centered=True %}
            
            <div class="card-body p-4">
                <form method="post">
                    {% csrf_token %}
                    
                    <!-- Messages d'erreur généraux -->
                    {% include 'snippets/alert_snippet.html' with errors=form.non_field_errors alert_title=_('Erreurs de validation') %}  
                    <!-- Nom et prénom sur la même ligne -->
                    <div class="row">
                        <div class="col-md-6">
                            {% include 'snippets/field_with_icon_snippet.html' with field=form.first_name field_icon='fas fa-user' %}
                        </div>
                        <div class="col-md-6">
                            {% include 'snippets/field_with_icon_snippet.html' with field=form.last_name field_icon='fas fa-user' %}
                        </div>
                    </div>
                    <!-- Autres champs -->
                    {% include 'snippets/field_with_icon_snippet.html' with field=form.username field_icon='fas fa-at' %}
                    {% include 'snippets/field_with_icon_snippet.html' with field=form.email field_icon='fas fa-envelope' %}

                    <!--- Les mots de passe -->
                    <div class="row">
                        <div class="col-md-6">
                            {% include 'snippets/field_with_icon_snippet.html' with field=form.password1 field_icon='fas fa-lock' %}
                        </div>
                        <div class="col-md-6">
                            {% include 'snippets/field_with_icon_snippet.html' with field=form.password2 field_icon='fas fa-lock' extra_classes='mb-4' %}
                        </div>
                    </div>

                    {% include 'snippets/button_snippet.html' with button_text=_('Créer mon compte') button_icon='fas fa-user-plus' button_style='primary' extra_classes='w-100 mb-3' custom_style='background-color: darkviolet; border-color: darkviolet;' %}
                </form>

                <hr class="my-3">

                <div class="text-center">
                    <p class="mb-2 text-muted">{% trans "Vous avez déjà un compte?" %}</p>
                    {% include 'snippets/button_snippet.html' with button_type='link' button_url='login' button_text=_('Se connecter') button_icon='fas fa-sign-in-alt' button_style='outline-secondary' %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}